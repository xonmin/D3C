### ğŸ“Œ 2ì¥ : ë™ì‘ íŒŒë¼ë¯¸í„°í™” ì½”ë“œ ì „ë‹¬í•˜ê¸°
- ë™ì  íŒŒë¼ë¯¸í„°í™”(behavior parameterization)
  - ìì£¼ ë°”ë€ŒëŠ” ìš”êµ¬ì‚¬í•­ì— íš¨ê³¼ì ìœ¼ë¡œ ëŒ€ì‘
  - ì–´ë–»ê²Œ ì‹¤í–‰í• ì§€ ê²°ì •í•˜ì§€ ì•Šì€ ì½”ë“œ ë¸”ëŸ­ì„ ì˜ë¯¸


- ì‚¬ê³¼ë¥¼ í•„í„°ë§ í•˜ëŠ” í”„ë¡œê·¸ë¨ ì˜ˆì‹œ



```java
enum Color { RED, GREEN }

public static List<Apple> filterGreenApples(List<Apple> inventory) { 
    List<Apple> result = new ArrayList<>(); // ì‚¬ê³¼ ëˆ„ì  ë¦¬ìŠ¤íŠ¸
    for (Apple apple: inventory) {
        if (GREEN.equals(apple.getColorO)) {  // ë…¹ìƒ‰ ì‚¬ê³¼ë§Œ ì„ íƒ
            result.add(apple);
        }
    }
    return result; 
}
```



- ì‚¬ê³¼ì˜ ìƒ‰ìƒì€ RED, GREEN
- ê·¸ ì¤‘ì—ì„œë„ ë…¹ìƒ‰ ì‚¬ê³¼ë§Œ ì–»ì„ ìˆ˜ ìˆëŠ” ì½”ë“œì´ë‹¤.
- ë‚˜ì¤‘ì— ë¹¨ê°„ ì‚¬ê³¼ë¥¼ í•„í„°ë§ í•˜ê³  ì‹¶ê±°ë‚˜, ìƒ‰ ì´ì™¸ì—ë„ íŠ¹ì • ë¬´ê²Œì˜ ì‚¬ê³¼ë¥¼ ì–»ê³  ì‹¶ì„ ë•Œ ì½”ë“œë¥¼ ë°”ê¾¸ë‹¤ë³´ë©´ ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ DRY(don't repeat yourself) ê°™ì€ ê²ƒ ë°˜ë³µì„ í•˜ì§€ ë§ ê²ƒ ì›ì¹™ì„ ì–´ê¸°ê²Œ ë  ìˆ˜ ìˆë‹¤.


```java
public static List<Apple> filterApples(List<Apple> inventory, Color color, int weight, boolean flag) { 
    List<Apple> result = new ArrayList<>();
    for (Apple apple: inventory) {
        if ((flag && apple.getColor().equals(color)) ||
            (!flag && apple.getWeight() > weight)) {
            result.add(apple);
        }
    }
    return result; 

```


- ë™ì  íŒŒë¼ë¯¸í„°í™”ë¥¼ ì‚¬ìš©í•´ì„œ ìœ ì—°ì„±ì„ ì–»ëŠ” ë°©ë²•ì„ ì„ íƒí•´ì•¼ í•œë‹¤.
- í”„ë ˆë””ì¼€ì´íŠ¸(predicate) : ì°¸ ë˜ëŠ” ê±°ì§“ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
  - ì„ íƒ ì¡°ê±´ì„ ê²°ì •í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤.
  - ì—¬ëŸ¬ ì„ íƒ ì¡°ê±´ì„ ëŒ€í‘œí•˜ëŠ” ApplePredicate ë¥¼ ì •ì˜í•  ìˆ˜ ìˆê²Œ ëœë‹¤.


```java
public interface ApplePredicate {
    boolean test (Apple apple);
}

public class AppleHeavyWeightPredicate implements ApplePredicate {
    public booelan test(Apple apple){
        return apple.getWeight() > 150;
    }
}

public class AppleGreenColorPredicate implements ApplePredicate {
    public boolean test(Apple apple){
        return GREEN.equals(apple.getColor());
    }
}
```


- ì „ëµ ë””ìì¸ íŒ¨í„´(strategy design pattern) ì‚¬ìš©
  - ê° ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ íŒ¨ë°€ë¦¬ë¥¼ ì •ì˜í•˜ê³ , ëŸ°íƒ€ì„ì— ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ëŠ” ê¸°ë²•
  - ì˜ˆì œ) ApplePredicate(ì•Œê³ ë¦¬ì¦˜ íŒ¨ë°€ë¦¬), AppleHeavyWeightPredicate, AppleGreenColorPredicate(ì „ëµ)
  - ApplePredicateê°€ ë‹¤ì–‘í•œ ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì´ìœ 
    - filterApplesì—ì„œ ê°ì²´ë¥¼ ë°›ì•„ ì¡°ê±´ì„ ê²€ì‚¬í•˜ë„ë¡ ë©”ì„œë“œë¥¼ ê³ ì³ì•¼ í•œë‹¤.
    - ë™ì‘ íŒŒë¼ë¯¸í„°í™” : ë™ì‘(ì „ëµ)ì„ ë°›ì•„ì„œ, ë™ì‘ì„ ìˆ˜í–‰



```java
public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p){
    List<Apple> result = new ArrayList<>();
    for(Apple apple : inventory){
        if(p.test(apple)){ // predicate ê°ì²´ë¡œ ì‚¬ê³¼ ê²€ì‚¬ ì¡°ê±´ì„ ìº¡ìŠí™”
            result.add(apple); // ë‹¤ì–‘í•œ ì¡°ê±´ë“¤ì€ ApplePredicateë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©
        }
    }
    return result;
}
```


- ë‹¤ì–‘í•œ ApplePredicateë¥¼ ë§Œë“¤ì–´ì„œ filterApples ì— ì „ë‹¬


```java
public class AppleRedAndHeavyPredicate implements ApplePredicate {
    public boolean test(Apple apple){
        return RED.equals(apple.getColor()) && apple.getWeight() > 150;
    }
}
```


<img width="492" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-04-23 á„‹á…©á„’á…® 6 40 28" src="https://user-images.githubusercontent.com/52193680/233832062-4b02eae1-724c-44f2-b3ec-56e774f2dbb4.png">



- ë™ì  íŒŒë¼ë¯¸í„°í™” ì „ì²´ êµ¬ì¡°


<img width="581" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-04-23 á„‹á…©á„’á…® 6 42 48" src="https://user-images.githubusercontent.com/52193680/233832157-ca52c1d5-8f25-4d65-a076-493c758e7ed1.png">



```java
public class AppleHeavyWeightPredicate implements ApplePredicate {
    public boolean test(Apple apple){
        return apple.getWeight() > 150;
    }
}

public class AppleGreenColorPredicate implements ApplePredicate {
    public boolean test(Apple apple){
        return GREEN.equals(apple.getColor());
    }
    
    public class FilteringApples {
      public static void main(String... args) {
        List<Apple> inventory = Arrays.asList(new Apple(80, GREEN),
                new Apple(155, GREEN), new Apple(120, RED));

        List<Apple> heavyApples = filterApples(inventory, new AppleHeavyWeightPredicate());
        List<Apple> greenApples = filterApples(invenyory, new AppleGrrenColorPredicate());
      }

      public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
          if (p.test(apple)) {
            result.add(apple);
          }
        }
        return result;
      }
    }
}
```


---
- ìµëª… í´ë˜ìŠ¤(anonymous class) ë¥¼ ì‚¬ìš©í•´ì„œ í´ë˜ìŠ¤ ì„ ì–¸ê³¼ ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ ë™ì‹œì— í•  ìˆ˜ ìˆë‹¤.
  - ìë°”ì˜ ì§€ì—­ í´ë˜ìŠ¤(ë¸”ë¡ ë‚´ë¶€ ì„ ì–¸ í´ë˜ìŠ¤)ì™€ ë¹„ìŠ·í•œ ê°œë…


```java
List<Apple> redApples = filterApples(inventory, new ApplePredicate() { // filterApples ë©”ì„œë“œì˜ ë™ì‘ì„ ì§ì ‘ íŒŒë¼ë¯¸í„°í™” 
    public boolean test(Apple apple) {
        return RED.equals(apple.getColor());
    }
});
```


- ìµëª… í´ë˜ìŠ¤ ë‹¨ì 
  - ë°˜ë³µë˜ì–´ ì§€ì €ë¶„í•œ ì½”ë“œê°€ ìƒê¸´ë‹¤.
  - ìµëª… í´ë˜ìŠ¤ ì‚¬ìš©ì— ìµìˆ™í•œ í”„ë¡œê·¸ë˜ë¨¸ê°€ ë§ì§€ ì•Šë‹¤.
---
- ìë°” 8 ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš© ì½”ë“œ

```java
List<Apple> result = 
        filterApples(inventory, (Apple apple) -> RED.equals.apple.getColor()));

```


<img width="517" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-04-23 á„‹á…©á„’á…® 7 08 34" src="https://user-images.githubusercontent.com/52193680/233833466-3ebd6768-b943-46f6-af0a-c3fd0a1d024e.png">



```java
// ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ì¶”ìƒí™”
public interface Predicate<T> {
    boolean test(T t);
}

public static <T> List<T> filter(List<T> list, Predicate<T> p) {
    List<T> result = new ArrayList<>();
    for(T e: list){
        if(p.test(e)){
            result.add(e);
        }
    }
    return result;
}

// ì—¬ëŸ¬ í•­ëª©ë“¤ì„ ë¦¬ìŠ¤íŠ¸ì— í•„í„° ë©”ì„œë“œ ì‚¬ìš© 
List<Apple> redApples = 
        filter(inventory, (Apple apple) -> RED.equals(apple.getColor()));

List<Integer> evenNumbers =
        filter(numbers, (Intger i) -> i % 2 == 0);
```
---
#### ì‹¤ì „ ì˜ˆì œ 
1. Comparator ìœ¼ë¡œ ì •ë ¬
  - ìë°” 8ì˜ Listì— sort í¬í•¨
  - java.util.Comparator ìœ¼ë¡œ sort ë™ì‘ì„ íŒŒë¼ë¯¸í„°í™” ê°€ëŠ¥


```java
// java.util.Comparator
public interface Comparator<T> {
  int compare(T o1, T o2);
}

// sort ë©”ì„œë“œ ë™ì‘ì˜ ë‹¤ì–‘í™”
// ìµëª… í´ë˜ìŠ¤ ì‚¬ìš©
inventory.sort(new Comparator<Apple>() {
    public int compare(Apple a1, Apple a2) {
        return a1.getWeight().compareTo(a2.getWeight());
    }
});

// ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš©
inventory.sort(
        (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight()));
```



2. Runnable ìœ¼ë¡œ ì½”ë“œ ë¸”ë¡ ì‹¤í–‰
- ìë°” ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•´ì„œ ë³‘ë ¬ë¡œ ì½”ë“œ ë¸”ë¡ ì‹¤í–‰
- ìë°”8 ì´ì „ì—ëŠ” Thread ìƒì„±ìì— ê°ì²´ë§Œ ì „ë‹¬í•  ìˆ˜ ìˆì–´ì„œ
  - ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” void run ë©”ì†Œë“œë¥¼ í¬í•¨í•˜ëŠ” ìµëª… í´ë˜ìŠ¤ë¥¼ Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
- ìë°”8 ë¶€í„°ëŠ” ëŒë‹¤ í‘œí˜„ì‹ ì´ìš©


```java
// java.lang.Runnable
public interface Runnable {
    void run();
}

Thread t = new Thread(new Runnable()) {
    public void run() {
        System.out.println("Hello world");
    }
});

// ìë°” 8, ëŒë‹¤ í‘œí˜„ì‹ ì‚¬ìš©
Thread t = new Thread(() -> System.out.println("Hello world"));
```


---
